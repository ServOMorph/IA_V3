<ZoneMessage>:
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(48)
    padding: dp(0)
    spacing: dp(0)

    canvas.before:
        Color:
            rgba: 0.15, 0.15, 0.15, 1  # fond sombre
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [self.height/2]  # arrondi "pillule"

    SubmitTextInput:
        id: input
        text: root.text
        hint_text: root.placeholder
        multiline: False
        background_normal: ''
        background_active: ''
        background_color: 0, 0, 0, 0
        foreground_color: 1, 1, 1, 1
        cursor_blink: True
        padding: [dp(15), dp(14), dp(10), dp(14)]
        write_tab: False
        size_hint_x: 1
        on_text: root._on_text(self.text)

    Button:
        size_hint_x: None
        width: self.height
        background_normal: ''
        background_color: (0.4, 0.4, 0.4, 1) if root.can_send else (0.3, 0.3, 0.3, 1)
        on_release: root.submit()
        Image:
            source: 'assets/images/send_icon.png'  # <-- icÃ´ne envoyer
            center_x: self.parent.center_x
            center_y: self.parent.center_y
            size: dp(20), dp(20)
            allow_stretch: True

# 1.1 â€” CrÃ©ation structure API

## ğŸ“‚ Arborescence mise Ã  jour

```
ğŸ“ agents_ia_project/
    ğŸ“„ arborescence.txt
    ğŸ“„ main.py
    ğŸ“„ README.md
    ğŸ“ agents/
        ğŸ“„ gestia.py
    ğŸ“ docs/
        ğŸ“„ agents_disponibles.md
        ğŸ“„ developpement_suivi.md
        ğŸ“„ developpement_suivi_complet.md
        ğŸ“„ README_MODELE.md
        ğŸ“„ api_initialisation.md
        ğŸ“„ README_api.md
    ğŸ“ prompts/
        ğŸ“„ 1.1-main.py-de_GestIA_pour_BackIA-19h55-2025-08-20.md
```

## ğŸ“„ RÃ©sumÃ© du README global (`README.md`)

Le projet **agents\_ia\_project** met en place un systÃ¨me dâ€™agents IA coordonnÃ©s via une API FastAPI centralisÃ©e et lâ€™outil Ollama en local. Lâ€™agent **GestIA** assure lâ€™orchestration des autres agents (DonIA, ArtIA, BackIA, etc.). Lâ€™architecture inclut :

* `main.py` (point dâ€™entrÃ©e FastAPI),
* `agents/` (modules des agents spÃ©cialisÃ©s),
* `templates/` et `static/` (frontend),
* intÃ©gration avec Ollama,
* un protocole strict de communication et de documentation.

## ğŸ“„ Code produit â€” `main.py`

```python
"""
Point dâ€™entrÃ©e de lâ€™API FastAPI pour le projet agents_ia_project.

Ce module initialise lâ€™application FastAPI et expose une route de test
accessible Ã  `/ping`.
"""

from fastapi import FastAPI

app = FastAPI(title="agents_ia_project API")


@app.get("/ping")
def ping() -> dict[str, str]:
    """
    VÃ©rifie lâ€™Ã©tat de lâ€™API.

    Returns:
        dict[str, str]: Un dictionnaire contenant {"status": "ok"}.
    """
    return {"status": "ok"}
```

## ğŸ“„ Documentation â€” `docs/api_initialisation.md`

### 1. Structure API

**Fichier : `main.py`**

* Contient la configuration initiale de FastAPI.
* DÃ©finit le titre de lâ€™API : `agents_ia_project API`.

**Endpoint disponible :**

* `GET /ping` â†’ retourne `{ "status": "ok" }`.

**DÃ©marrage de lâ€™API :**

```bash
uvicorn main:app --reload
```

**Test avec curl :**

```bash
curl http://127.0.0.1:8000/ping
```

RÃ©sultat attendu :

```json
{"status": "ok"}
```

â„¹ï¸ Un fichier de tests unitaires `tests/test_api.py` sera ajoutÃ© Ã  lâ€™Ã©tape 5.

## ğŸ“„ Documentation â€” `docs/README_api.md`

# ğŸ“˜ Module API

## ğŸ¯ Objectif

Fournir une API centralisÃ©e permettant la communication entre les agents IA et les services externes.

## ğŸš€ Lancement

```bash
uvicorn main:app --reload
```

## ğŸ” VÃ©rification

Tester la route de santÃ© :

```bash
curl http://127.0.0.1:8000/ping
```

RÃ©ponse attendue :

```json
{"status": "ok"}
```

## ğŸ“¡ Conventions dâ€™appel prÃ©vues

* Chaque futur endpoint suivra le schÃ©ma REST clair (GET, POST, etc.).
* Les routes seront documentÃ©es dans `docs/api_initialisation.md`.
* Les tests unitaires seront centralisÃ©s dans `tests/test_api.py`.

## ğŸ—‚ï¸ Liste des fichiers crÃ©Ã©s/modifiÃ©s

* `main.py` (crÃ©Ã©)
* `docs/api_initialisation.md` (crÃ©Ã©)
* `docs/README_api.md` (crÃ©Ã©)
* `arborescence.txt` (mis Ã  jour)

---

ğŸ“„ **Livrable final** : `/responses/1.1-main.py-de_BackIA_pour_GestIA-20h15-2025-08-20.md`
